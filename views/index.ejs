<%- include('./partials/head.ejs') %>

  <aside class="sidebar">
    <a href="post">
      <svg width="50px" height="50px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="SVGRepo_bgCarrier" stroke-width="0"/>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
        <g id="SVGRepo_iconCarrier"> <path d="M3 19C3.69137 16.6928 5.46998 16 9.5 16C13.53 16 15.3086 16.6928 16 19" stroke="#E6EBE0" stroke-width="2" stroke-linecap="round"/> <path d="M13 9.5C13 11.433 11.433 13 9.5 13C7.567 13 6 11.433 6 9.5C6 7.567 7.567 6 9.5 6C11.433 6 13 7.567 13 9.5Z" stroke="#E6EBE0" stroke-width="2"/> <path d="M15 6H21" stroke="#E6EBE0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M18 3L18 9" stroke="#E6EBE0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> </g>
        </svg>
    </a>
    <button id="scale">
      <svg width="50px" height="50px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#fcfcfc">
        <g id="SVGRepo_bgCarrier" stroke-width="0"/>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
        <g id="SVGRepo_iconCarrier"> <path d="M16.2 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21H16.2C17.8802 21 18.7202 21 19.362 20.673C19.9265 20.3854 20.3854 19.9265 20.673 19.362C21 18.7202 21 17.8802 21 16.2V7.8M16.2 3C17.8802 3 18.7202 3 19.362 3.32698C19.9265 3.6146 20.3854 4.07354 20.673 4.63803C21 5.27976 21 6.11984 21 7.8M16.2 3H15.2C14.0799 3 13.5198 3 13.092 3.21799C12.7157 3.40973 12.4097 3.71569 12.218 4.09202C12 4.51984 12 5.07989 12 6.2V8.8C12 9.9201 12 10.4802 12.218 10.908C12.4097 11.2843 12.7157 11.5903 13.092 11.782C13.5198 12 14.0799 12 15.2 12H17.8C18.9201 12 19.4802 12 19.908 11.782C20.2843 11.5903 20.5903 11.2843 20.782 10.908C21 10.4802 21 9.92011 21 8.8V7.8M12.5 11.5L7 17M7 17H12M7 17L7 12" stroke="#E6EBE0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> </g>
        </svg>
    </button>
    <button id="toggle">
      <svg fill="#E6EBE0" width="50px" height="50px" viewBox="-1.6 -1.6 35.20 35.20" version="1.1" xmlns="http://www.w3.org/2000/svg" stroke="#E6EBE0">
        <g id="SVGRepo_bgCarrier" stroke-width="0"/>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
        <g id="SVGRepo_iconCarrier"> <title>contrast</title> <path d="M0 16q0 3.264 1.28 6.24t3.392 5.088 5.12 3.424 6.208 1.248q3.264 0 6.24-1.248t5.088-3.424 3.392-5.088 1.28-6.24-1.28-6.208-3.392-5.12-5.088-3.392-6.24-1.28q-3.264 0-6.208 1.28t-5.12 3.392-3.392 5.12-1.28 6.208zM4 16q0-3.264 1.6-6.016t4.384-4.352 6.016-1.632 6.016 1.632 4.384 4.352 1.6 6.016-1.6 6.048-4.384 4.352-6.016 1.6-6.016-1.6-4.384-4.352-1.6-6.048zM16 26.016q2.72 0 5.024-1.344t3.648-3.648 1.344-5.024-1.344-4.992-3.648-3.648-5.024-1.344v20z"/> </g>
        </svg>
    </button>
  </aside>

  <section class="live-score-area">
    <div class="live-score-titles">
      <h2>
        <%= data1.field %>
      </h2>
      <h3>
        <%= data1.gameStatus %> - <%= data1.division %>
      </h3>
    </div>
    <div class="live-button">
      <h2>Live<span class="live-icon"></span></h2>
    </div>
    <div class="live-score">
      <img src="assets/ultitvlogohome.svg" />
      <h3>
        <p id="homeScoreDisplay">0</p> - <p id="awayScoreDisplay">0</p>
      </h3>
      <img src="assets/ultitvlogoaway.svg" />
    </div>
    <div class="live-score-team-names">
      <h4>
        <%= data1.team1Name %>
      </h4>
      <h4>
        <%= data1.team2Name %>
      </h4>
    </div>
  </section>

  <section class="score-history">
    <section class="score-history">
      <div class="input-buttons">
        <button class="input-goals-button">Goals</button>
        <button class="input-assists-button">Assists</button>
        <button class="input-blocks-button">Blocks</button>
        <button class="input-turnovers-button">Turnovers</button>
      </div>
      <!-- <form id="scoreForm">
          <input type="checkbox" value="1" name="hometeam" id="hometeam" placeholder="hometeam" autocomplete="off" >
          <label for="hometeam">hometeam</label>
          <input type="checkbox" value="1" name="pretendteam" id="pretendteam" placeholder="pretendteam" autocomplete="off" >
          <label for="pretendteam">pretendteam</label>
        <input type="submit" name="" id="" autocomplete="off">
      </form> -->

      <form id="scoreForm">
        <legend>
          <input type="number"  min="0" max="1" name="hometeam" placeholder="hometeam" autocomplete="off" >
        </legend>
        <legend>
          <input type="number"  min="0" max="1" name="pretendteam" placeholder="pretendteam" autocomplete="off" >
        </legend>
        <input type="submit" name="" id="" autocomplete="off">
      </form>
      <div class="team-scored-total">
        <div class="team-scored-left">
          <table cellspacing="0" cellpadding="0">
            <thead>
              <tr>
                <th>Pass</th>
                <th>Turn</th>
                <th>O/D</th>
              </tr>
            </thead>
            <tbody>
              <tr class="score-info-team-1">
                <% data2.scoredPoints.forEach(point=> { %>
                  <% if (point.scored===point.team1Name) { %>
              </tr>

              <% if (point.team1OorD==="O" ) { %>
                <tr class="score-info-team-1 dark-green">
                  <td>
                    <%= point.team1Passes %>
                  </td>
                  <td>
                    <%= point.team1Turnovers %>
                  </td>
                  <td>
                    <%= point.team1OorD %>
                  </td>
                </tr>
                <% } else {%>
                  <tr class="score-info-team-1 green">
                    <td>
                      <%= point.team1Passes %>
                    </td>
                    <td>
                      <%= point.team1Turnovers %>
                    </td>
                    <td>
                      <%= point.team1OorD %>
                    </td>
                  </tr>
                  <% } %>

                <% } else { %>
                  <% if (point.team1OorD==="D" ) { %>
                    <tr class="score-info-team-1 dark-red">
                      <td>
                        <%= point.team1Passes %>
                      </td>
                      <td>
                        <%= point.team1Turnovers %>
                      </td>
                      <td>
                        <%= point.team1OorD %>
                      </td>
                    </tr>
                    <% } else {%>
                      <tr class="score-info-team-1 red">
                        <td>
                          <%= point.team1Passes %>
                        </td>
                        <td>
                          <%= point.team1Turnovers %>
                        </td>
                        <td>
                          <%= point.team1OorD %>
                        </td>
                      </tr>
                    <% } %>
                  <% } %>
                <% }) %>
            </tbody>
          </table>
        </div>

        <div class="middle">
          <table cellspacing="0" cellpadding="0">
            <thead>
              <tr>
                <th>Score</th>
              </tr>
            </thead>
            <tbody id="score">
              <tr class="score">
                <tr>
                  <% data2.scoredPoints.forEach(point => { %>
                    <tr>
                      <td><%= point.team1Score %> - <%= point.team2Score %></td>
                     </tr>
                  <% }) %>
                </tr>
            </tbody>
          </table>
        </div>

        <div class="team-scored-right">
          <table cellspacing="0" cellpadding="0">
            <thead>
              <tr>
                <th>Pass</th>
                <th>Turn</th>
                <th>O/D</th>
              </tr>
            </thead>
            <tbody>
              <tr class="score-info-team-2">
                <% data2.scoredPoints.forEach(point=> { %>
                  <% if (point.scored===point.team2Name) { %>
              </tr>

              <% if (point.team2OorD==="O" ) { %>
                <tr class="score-info-team-2 dark-green">
                  <td>
                    <%= point.team2Passes %>
                  </td>
                  <td>
                    <%= point.team2Turnovers %>
                  </td>
                  <td>
                    <%= point.team2OorD %>
                  </td>
                </tr>
                <% } else {%>
                  <tr class="score-info-team-2 green">
                    <td>
                      <%= point.team2Passes %>
                    </td>
                    <td>
                      <%= point.team2Turnovers %>
                    </td>
                    <td>
                      <%= point.team2OorD %>
                    </td>
                  </tr>
                  <% } %>

                <% } else { %>
                  <% if (point.team2OorD==="D" ) { %>
                    <tr class="score-info-team-2 dark-red">
                      <td>
                       <%= point.team2Passes %>
                      </td>
                      <td>
                        <%= point.team2Turnovers %>
                      </td>
                      <td>
                        <%= point.team2OorD %>
                      </td>
                    </tr>
                      <% } else {%>
                        <tr class="score-info-team-2 red">
                          <td>
                            <%= point.team2Passes %>
                          </td>
                          <td>
                            <%= point.team2Turnovers %>
                          </td>
                          <td>
                            <%= point.team2OorD %>
                          </td>
                        </tr>
                      <% } %>
                    <% } %>
                 <% }) %>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </section>

<section class="players-team-one">
  <h2><%= data1.team1Name %></h2>
  <div class="cards">
    <% data1.team1Players.forEach(players => { %>
    <div class="card-player">
      <div class="bullet">
          <% let goals =  data2.scoredPoints.filter(stats => stats.scoredBy === players.playerId).length %>
          <% if (goals > 0) { %>
            <div class="score-bullet"> <%- goals %></div>
          <% } else { %>
            <div class="score-bullet-no"></div>
          <% } %>

   
          <% let assist = data2.scoredPoints.filter(stats => stats.assistBy === players.playerId).length %>
           <% if (assist > 0) { %>
              <div class="assist-bullet"><%- assist %></div>
            <% } else { %>
              <div class="assist-bullet-no"></div>
            <% } %>

        <% data2.scoredPoints.forEach(score=> { %>
          <% score.blockPlayers.forEach(blockPlayer=> { %>
            <% if (players.playerId===blockPlayer) { %>
              <div class="block-bullet">1</div>
            <% } else { %>
              <div class="block-bullet-no"></div>
           <% } %>
          <% }) %>
        <% }) %>

        <% data2.scoredPoints.forEach(score => { %>
          <% if (players.playerId === score.turnoverPlayers[0]) { %>
            <div class="turnover-bullet">1</div>
          <% } else { %>
            <div class="turnover-bullet-no"></div>
             <% } %>
          <% }) %>
      </div>
      <p><%= players.jerseyNumber %></p>
      <h4><%= players.name %></h4>
      <% if(players.gender === "M") { %>
      <span id="m"></span>
      <% } else { %>
      <span id="f"></span>
      <% } %>
    </div>
    <% }) %>
  </div>
</section>

<section class="players-team-two">
  <h2><%= data1.team2Name %></h2>
  <div class="cards">
    <% data1.team2Players.forEach(players => { %>
    <div class="card-player">
      <div class="bullet">
        <% let goals =  data2.scoredPoints.filter(stats => stats.scoredBy === players.playerId).length %>
        <% if (goals > 0) { %>
          <div class="score-bullet"> <%- goals %></div>
        <% } else { %>
          <div class="score-bullet-no"></div>
        <% } %>

        <% let assist = data2.scoredPoints.filter(stats => stats.assistBy === players.playerId).length %>
        <% if (assist > 0) { %>
           <div class="assist-bullet"><%- assist %></div>
         <% } else { %>
           <div class="assist-bullet-no"></div>
         <% } %>

        <% data2.scoredPoints.forEach(score=> { %>
          <% score.blockPlayers.forEach(blockPlayer=> { %>
            <% if (players.playerId===blockPlayer) { %>
              <div class="block-bullet">1</div>
            <% } else { %>
              <div class="block-bullet-no"></div>
           <% } %>
          <% }) %>
        <% }) %>

        <% data2.scoredPoints.forEach(score => { %>
          <% if (players.playerId === score.turnoverPlayers[0]) { %>
            <div class="turnover-bullet">1</div>
          <% } else { %>
            <div class="turnover-bullet-no"></div>
             <% } %>
          <% }) %>
      </div>
      <p><%= players.jerseyNumber %></p>
      <h4><%= players.name %></h4>
      <% if(players.gender === "M") { %>
      <span id="m"></span>
      <% } else { %>
      <span id="f"></span>
      <% } %>
    </div>
    <% }) %>
  </div>
</section>

  <%- include('./partials/foot.ejs') %>